<main class="contenedor panel-administracion body1">
  <div class="carta-fondo-publicaciones">
    <h2 class="titulo-carta">Publicaciones</h2>

    <div class="boton-public">
      <button class="custom-button btn-color-cate" onclick="eliminarTodasPublicaciones()">Eliminar Todas las Publicaciones</button>
    </div>
    <div class="card-container-publicaciones ">

      <% if(publicaciones.length) { %>
        <% publicaciones.forEach(publicaciones => { %>
                <div class="card">
                    <div class="container">
                      <p class="fecha">Fecha Creación: <%= moment(publicaciones.fecha).format('LL');  %></p>
                      <h1 class="titulo-categoria"><%= publicaciones.titulo %></h1>
                      <small></small>
                      <p class="configuracion-asistencia"><%= publicaciones.asistiEvento %> Confirmación de Asistencia</p>
                    </div>

                    <div class="button-edicion-publicaciones">
                        <button class="custom-categorias btn-color-edit" onclick="redireccionar('/editar-publicacion/<%= publicaciones.id %>')">Editar</button>
                        <button class="custom-categorias btn-color-eliminar" onclick="redireccionar('/eliminar-publicacion/<%= publicaciones.id %>')">Eliminar</button>
                    </div>
                    
                </div>
            <% }) %>
        <% } else { %>
        </div>
        
          <div class="container">
            <h4 class="no-post-message">No tienes Publicaciones Actualmente.</h4>
         </div>         
          <% } %>


        </div> 
</div>
<div class="carta-fondo">
  <h2 class="titulo-carta">Categorias</h2>
  <div > 
    <button class="custom-button btn-color-cate" onclick="redireccionar('/nuevo-categoria')">Nueva Categoria</button>
  </div>
  <div class="card-container">
    
    <% if(post.length) { %>
      <% post.forEach(post => { %>
              <div class="card">
                  <div class="container">
                    <img class="card-image" src="/uploads/post/<%= post.imagen %>" alt="Avatar" >
                    <h1 class="titulo-categoria"><b><%= post.nombrepost %></b></h1>
                    <p class="fecha">Fecha Creación: <%= moment(publicaciones.fecha).format('LL');  %></p>
                    <p class="descripcion-post"><%- post.descripcion %></p>
                  </div>
                  <div class="button-edicion">
                    <button class="custom-categorias btn-color-edit" onclick="redireccionar('/editar-categoria/<%= post.id %>')">Editar</button>
                    <button class="custom-categorias btn-color-public" onclick="crearNuevaPublicacion('<%= post.id %>')"> Nueva Publicación</button>
                    <button class="custom-categorias btn-color-eliminar" onclick="redireccionar('/eliminar-Categoria/<%= post.id %>')">Eliminar</button>
                  </div>
              </div>
          <% }) %>
      <% } else { %>
      </div>
        <div class="container">
          <h4 class="no-post-message-categoria">No tienes Categorias Actualmente.</h4>
       </div>         
        <% } %>
      </div> 
</div>
  <script>
    function redireccionar(url) {
        window.location.href = url; 
    }
    function crearNuevaPublicacion(postId) {
  window.location.href = `/nueva-publicacion?selectedPostId=${postId}`;
}
</script>
<script>
  function eliminarTodasPublicaciones() {
     if (confirm('¿Estás seguro de que deseas eliminar todas las publicaciones?')) {
        window.location.href = '/eliminar-todas-publicaciones';
     }
  }
</script>

</main>
<style>
.body1 {
  background-color: #e0dfdf;
}
.carta-fondo {
    border: 1px solid #ffffff;
    background-color: #ffffff;
    border-radius: 10px;
    padding: 20px; 
    margin: 20px; 
    text-align: center; 
}
.carta-fondo-publicaciones {
    border: 1px solid #ffffff;
    background-color: #ffffff;
    border-radius: 10px;
    padding: 20px; 
    text-align: center; 
    width: 94.5%;
    
}
.card-container-publicaciones {
    padding-top: -10%;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    padding: 20px; 

}
.titulo-carta {
    font-size: 40px; 
  }
.card-container {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    padding: 20px; 
}
.card {
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
    transition: 0.3s;
    width: 100%; 
    background-color: #ffffff; 
    border: 1px solid #ccc;
    border-radius: 5px; 
    position: relative;
}
.card-image {
    width: 100%;
    max-height: 280px;
    position: relative;
    object-fit: contain;
    padding: 10px;
    border-radius: 5px; 

}
.descripcion-post {
    font-size: 16px; 
}
.button-edicion {
    display: flex;
    justify-content: center; 
    padding: 10px;
    gap: 10px; 
    font-size: medium;
    font-family: 'Varela Round', sans-serif;
}
.custom-categorias {
    border: 2px solid #3498db;
    padding: 5px 16px;
    background-color: #3498db;
    color: #fff;
    cursor: pointer;
    margin-right: 10px;

}
.titulo-categoria {
    font-size: 24px; 
    padding-left: 20px; 
    padding-right: 20px; 
}

.btn-color-edit{
    border: 2px solid #FFA500; 
    background-color: #FFA500;
    border-radius: 6px;

}
.btn-color-ver{
    background-color: #6cdb34;
    border: 2px solid #6cdb34;
    border-radius: 6px;
    
}
.btn-color-eliminar{
    border: 2px solid #FF6B6B; 
    background-color: #FF6B6B;
    border-radius: 6px;
}
.button-edicion-publicaciones {
  display: flex;
  justify-content: center; 
  padding: 10px;

  
}
.no-post-message-categoria {
  font-size: 18px; 
  text-align: center;
  margin: 0 auto; 
  display: block; 
  margin-top: 20px;
  max-width: 600px; 
}
.fecha {
  font-size: 14px;
  color: #888;
  padding-left: 2%;
}
body {
  font-family: 'Varela Round', sans-serif;
}
.panel-administracion{
  padding-top: 2%;
}
.boton-public {
  text-align: right;
  margin-top: -5% ;
}

.custom-button {
  margin-bottom: 10px; 
  font-family: 'Varela Round', sans-serif;
  font-weight: bold;
}
.btn-color-public{
    border: 2px solid #00a6ff; 
    background-color: #00a6ff;
    border-radius: 6px;
}
.btn-color-cate{
  border: 2px solid #00a6ff; 
  background-color: #00a6ff;
  border-radius: 6px;
}
.container {
    padding: 10px 0;
    text-align: center;
    margin-top: 10px;
}

.card:hover {
    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
}

.custom-button {
    border: 2px solid #3498db;
    padding: 10px 20px;
    background-color: #3498db;
    color: #fff;
    cursor: pointer;
    margin-right: 10px;
}

</style>
